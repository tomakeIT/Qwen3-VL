
# 数据路径配置
root: "/home/lightwheel/erdao.liang/LightwheelData/1W_Libero_Piper"  # 数据集根目录
train_output_dir: "./dataset_1122/train"         # 训练集输出目录（per_task 模式使用）
eval_output_dir: "./dataset_1122/eval"      # 验证集输出目录（per_task 模式使用）
train_output: "train.json"                 # 单进程模式的训练集输出文件
eval_output: "eval.json"             # 单进程模式的验证集输出文件

# 采样参数
sampling:
  pairs_per_demo: 200          # 每个 demo 采样的 (i,j) 对数量
  max_delta_t: 80             # 采样 (i,j) 时的最大 |Δt|（帧数）
  min_delta_t: 1              # 采样 (i,j) 时的最小 |Δt|（帧数）
  peak_distance: 3            # 山峰分布的峰值位置（权重最大的距离）
  rise_factor: 1.3            # 上升因子（峰值左侧，>1 表示上升速度）
  decay_factor: 0.8           # 衰减因子（峰值右侧，0 < decay_factor < 1），越小衰减越快
  required_views:             # target 使用的相机视角
    - "first_person_camera"
    - "left_hand_camera"
    - "right_hand_camera"

# Reference 参数
reference:
  views:                      # reference 使用的视角（可以与 target 不同）
    - "first_person_camera"
  frames: 4                   # reference time steps 的均值
  jitter: 2                   # reference 索引的 jitter 范围（帧数）
  resample_every: 5           # 每 N 个 base pair 重新采样一次 reference
  frames_min: 3               # reference frames 的最小数量
  frames_max: 10              # reference frames 的最大数量
  frames_std: 2.0             # reference frames 数量的高斯分布标准差

# 过滤参数
filtering:
  static_diff_threshold: 0.01  # 如果所有视角的像素差都小于此阈值，将 delta_progress 设为 0
  mismatch_prob: 0.02          # 随机替换任务描述的概率（用于负样本，delta 设为 0）

# 数据划分配置
split:
  train_ratio: 0.85            # 训练集比例
  min_demos_per_task: 2        # 每个任务最少需要的 demo 数量
  selected_tasks:            # 选择要处理的任务：null 表示处理所有任务，或指定任务名称列表，例如: ["task1", "task2"]
    - "L90L6PutTheWhiteMugOnThePlate"

# 其他配置
seed: 42                       # 随机种子
per_task: true                 # 是否为每个任务生成单独的 JSON 文件
num_workers: null              # 多进程 worker 数量（null 表示使用 CPU 核心数）

